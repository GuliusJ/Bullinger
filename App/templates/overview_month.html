{% extends "base.html" %}

{% block content %}

<h1>
    <a href="{{url_for('overview')}}">Übersicht</a> /
    <a href="{{url_for('overview_year', year=year)}}">{{ year }}</a> / {{ month }}
</h1>

<div class="page_content">

	<p>Wählen Sie eine Karteikarte, resp. Brief Nr. (&#8594; <a href="{{url_for('quick_start')}}">Schnellstart</a>):</p>

	<table class="js-sort-table paleBlueRows">
		<thead class="my_table_head">
			<tr class="my_table_head_row">
				<th class="js-sort-number my_table_head_cell">Brief Nr.</th>
				<th class="js-sort-number my_table_head_cell">Datum</th>
				<th class="js-sort-number my_table_head_cell">Rezensionen</th>
				<th class="js-sort-number my_table_head_cell">Status</th>
			</tr>
		</thead>
		<tbody>
			{% for key in data %}
			<tr class="my_table_row">
				<td class="my_table_cell"><a href="{{url_for('assignment', id_brief=key)}}">{{ data[key][0] }}</a></td>
				<td class="my_table_cell"> {{ data[key][1] }} </td>
				<td class="my_table_cell"> {{ data[key][2] }} </td>
				<td class="my_table_cell"> {{ data[key][3] }} </td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

	<h2>Fortschritt</h2>

	<p>Statusübersicht (alle {{ count }} Karteikarten vom Monat {{ month }} {{ year }}):</p>

	<table class="js-sort-table paleBlueRows">
		<thead class="my_table_head">
			<tr class="my_table_head_row">
				<th class="js-sort-number my_table_head_cell">Status</th>
				<th class="js-sort-number my_table_head_cell">Anzahl</th>
				<th class="js-sort-number my_table_head_cell">[%]</th>
			</tr>
		</thead>
		<tbody>
		{% for key in stats %}
			<tr class="my_table_row">
				<td class="my_table_cell">{{ key }}</td>
				<td class="my_table_cell">{{ stats[key][0] }}</td>
				<td class="my_table_cell">{{ stats[key][1] }}</td>
			</tr>
		{% endfor %}
		</tbody>
	</table>

	<img src="{{url_for('static', filename='images/plots/overview_'+file_name_stats+'.png')}}"/>

</div>

{% endblock %}

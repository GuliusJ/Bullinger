Virtual Environment
-------------------
$ cd Bullinger
Python 3.4+:    $ python -m venv venv
Python <3.4     $ virtualenv venv
Mac/Linux:      $ source venv/bin/activate
Windows         $ venv\Scripts\activate

Flask
-----
(venv) $ pip install flask
(venv) $ pip install flask-wtf
(venv) $ pip install flask-sqlalchemy
(venv) $ pip install flask_migrate
(venv) $ pip install flask-login
(venv) $ pip install flask_admin

Database
--------
(venv) $ flask db init
(venv) $ flask db migrate -m "init"
(venv) $ flask db upgrade

Execution (locally)
---------
(venv) $ export FLASK_APP=App.py
(venv) $ export FLASK_ENV=development
((export FLASK_DEBUG=1))
((source venv/bin/activate))
(venv) $ flask run

GitHub
------
(git status)
git add -A
git commit -m "whatever"
git push origin master

Server
------
$ ssh ubuntu@130.60.24.72

# Starting the app manually:
$ gunicorn -w 33 App:app

# Starting the supervisor:
$ sudo systemctl stop nginx

# Restart server
$ sudo systemctl restart nginx
$ sudo supervisorctl reload

$ cd /etc/supervisor
$ sudo service supervisor start
$ sudo supervisorctl reload

Tutorials
---------
- introduction too git concepts (3 parts, ca. 90min)
- Python flask tutorial: deploying your application (option 1) - deploy to a linux server




DEPLOYMENT (Linux-Ubuntu)
-------------------------
$ ssh ubuntu@130.60.24.72

What modules do we need?
(local) $ pip freeze > requirements.txt
(local) $ scp -r local/dir/to/project ubuntu@130.60.24.72       (or git clone)

$ sudo apt install python3-pip
$ sudo apt install python3-venv

Virtual Environment in Flask Project
$ python3 -m venv Project/venv
$ source venv/bin/activate

Install Project Packages
$ pip install -r requirements.txt

nginx/gunicorn for scalability
$ sudo apt install nginx
(venv) $ pip install gunicorn

supervisor
$ sudo apt install supervisor

config file:
$ sudo nano /etc/supervisor/conf.f/bullinger.conf
    ...

$ sudo supervisorctl reload
$ sudo systemctl restart nginx




RESTART

$ sudo systemctl stop nginx
$ sudo supervisorctl stop all
$ sudo service supervisor restart
$ sudo service nginx restart
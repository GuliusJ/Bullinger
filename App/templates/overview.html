{% extends "base.html" %}

{% block content %}

<h1>Allgemeine Übersicht
	{% include "user_status.html" %}
</h1>

<div class="main_box">

	<h2>Allgemeine Jahresübersicht</h2>
	<div class="h2_section">

		<p> Wählen Sie in der untenstehenden Tabelle ein Jahr aus oder klicken Sie
			<a href="{{url_for('quick_start')}}">hier</a>,
			um mit der erstbesten unbearbeiteten Karte zu beginnen.
		</p>

		<table class="js-sort-table paleBlueRows">
			<thead class="my_table_head">
				<tr class="my_table_head_row">
					<th class="js-sort-number my_table_head_cell">Jahr</th>
					<th class="js-sort-number my_table_head_cell">Anzahl Briefe</th>
					<th class="js-sort-number my_table_head_cell">offen</th>
					<th class="js-sort-number my_table_head_cell">unklar</th>
					<th class="js-sort-number my_table_head_cell">abgeschlossen</th>
					<th class="js-sort-number my_table_head_cell">ungültig</th>
				</tr>
			</thead>
			<tbody>
			{% for key, item in data.items() %}
				<tr class="my_table_row">
					<td class="my_table_cell"><a href="{{url_for('overview_year', year=key)}}">{{ key }}</a></td>
					<td class="my_table_cell">{{ item[0] }}</td>
					<td class="my_table_cell">{{ item[1] }}</td>
					<td class="my_table_cell">{{ item[2] }}</td>
					<td class="my_table_cell">{{ item[3] }}</td>
					<td class="my_table_cell">{{ item[4] }}</td>
				</tr>
			{% endfor %}
			</tbody>
		</table>
	</div>

	<div class="h2_separator"></div>
	<h2>Allgemeine Statusübersicht</h2>
	<div class="h2_section">
		<p>Fortschritt bei der Erfassung der {{ count }} Karteikarten:</p>
		<img class="parallel" src="{{url_for('static', filename='images/plots/overview_all_'+img_id+'.png')}}"/>
		<div class="parallel">
			<table class="js-sort-table paleBlueRows">
				<thead class="my_table_head">
					<tr class="my_table_head_row">
						<th class="js-sort-number my_table_head_cell">Status</th>
						<th class="js-sort-number my_table_head_cell">Anzahl</th>
						<th class="js-sort-number my_table_head_cell">[%]</th>
					</tr>
				</thead>
				<tbody>
				{% for key in stats %}
					<tr class="my_table_row">
						<td class="my_table_cell">{{ key }}</td>
						<td class="my_table_cell">{{ stats[key][0] }}</td>
						<td class="my_table_cell">{{ stats[key][1] }}</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	<div class="h2_separator"></div>

</div>

{% endblock %}
